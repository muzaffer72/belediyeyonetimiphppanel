import { create } from 'zustand';

export type Locale = 'tr' | 'en';

interface TranslationStore {
  locale: Locale;
  setLocale: (locale: Locale) => void;
  t: (key: string) => string;
}

const translations: Record<Locale, Record<string, string>> = {
  tr: {
    // Header
    'app.title': 'BİMER',
    'app.subtitle': 'Belediye Yönetim Paneli',
    'app.language': 'Dil',
    
    // Sidebar
    'sidebar.dashboard': 'Dashboard',
    'sidebar.cities': 'Şehirler',
    'sidebar.districts': 'İlçeler',
    'sidebar.posts': 'Gönderiler',
    'sidebar.comments': 'Yorumlar',
    'sidebar.announcements': 'Duyurular',
    'sidebar.users': 'Kullanıcılar',
    'sidebar.parties': 'Siyasi Partiler',
    'sidebar.settings': 'Ayarlar',
    'sidebar.logout': 'Çıkış Yap',
    
    // Not Found
    'notfound.title': 'Sayfa Bulunamadı',
    'notfound.message': 'Aradığınız sayfaya ulaşılamıyor. Sayfa kaldırılmış, adı değiştirilmiş veya geçici olarak kullanılamıyor olabilir.',
    'notfound.home': 'Ana Sayfaya Dön',
    'notfound.dashboard': 'Dashboard\'a Git',
    
    // Dashboard
    'dashboard.title': 'Dashboard',
    'dashboard.subtitle': 'Belediye yönetim sistemi genel bakış',
    'dashboard.total.municipalities': 'Toplam Belediye',
    'dashboard.active.users': 'Aktif Kullanıcılar',
    'dashboard.total.posts': 'Toplam Gönderi',
    'dashboard.pending.complaints': 'Bekleyen Şikayetler',
    'dashboard.since.lastmonth': 'Son aydan bu yana',
    'dashboard.recent.activities': 'Son Aktiviteler',
    'dashboard.view.all': 'Tümünü Gör',
    'dashboard.geographic.distribution': 'Coğrafi Dağılım',
    'dashboard.party.distribution': 'Siyasi Parti Dağılımı',
    'dashboard.post.categories': 'Gönderi Kategorileri',
    'dashboard.details': 'Detaylar',
    'dashboard.last.30days': 'Son 30 Gün',
    'dashboard.last.90days': 'Son 90 Gün',
    'dashboard.all.time': 'Tüm Zamanlar',
    'dashboard.most.active.city': 'En Aktif Şehir',
    'dashboard.least.active.city': 'En Az Aktif Şehir',
    'dashboard.interactive.map': 'İnteraktif Harita',
    'dashboard.complaints': 'Şikayetler',
    'dashboard.suggestions': 'Öneriler',
    'dashboard.questions': 'Sorular',
    'dashboard.thanks': 'Teşekkürler',
    'dashboard.percentage.total': 'Toplam gönderilerin %{value}\'i',
    
    // Cities
    'cities.title': 'Şehir Yönetimi',
    'cities.subtitle': 'Şehir belediyelerini yönetin ve düzenleyin',
    'cities.addnew': 'Yeni Şehir Ekle',
    'cities.search': 'Şehir adı veya belediye başkanı ara...',
    'cities.filter.party': 'Parti',
    'cities.filter.population': 'Nüfus',
    'cities.filter.all.parties': 'Tüm Partiler',
    'cities.filter.all.populations': 'Tüm Nüfuslar',
    'cities.filter.apply': 'Filtreleri Uygula',
    'cities.table.city': 'Şehir',
    'cities.table.mayor': 'Belediye Başkanı',
    'cities.table.party': 'Parti',
    'cities.table.population': 'Nüfus',
    'cities.table.status': 'Durum',
    'cities.table.actions': 'İşlemler',
    'cities.status.active': 'Aktif',
    'cities.status.maintenance': 'Bakımda',
    'cities.status.inactive': 'Pasif',
    'cities.pagination.showing': 'Toplam {total} şehirden {from}-{to} arasındakiler gösteriliyor',
    'cities.pagination.previous': 'Önceki',
    'cities.pagination.next': 'Sonraki',
    
    // Districts
    'districts.title': 'İlçe Yönetimi',
    'districts.subtitle': 'İlçe belediyelerini yönetin ve düzenleyin',
    'districts.addnew': 'Yeni İlçe Ekle',
    
    // Posts
    'posts.title': 'Gönderi Yönetimi',
    'posts.subtitle': 'Kullanıcı gönderilerini yönetin ve moderasyonunu sağlayın',
    'posts.complaints': 'Şikayetler',
    'posts.featured': 'Öne Çıkanlar',
    
    // Comments
    'comments.title': 'Yorum Yönetimi',
    'comments.subtitle': 'Kullanıcı yorumlarını yönetin ve moderasyonunu sağlayın',
    'comments.approve': 'Onayla',
    'comments.reject': 'Reddet',
    'comments.view': 'Yorumu Görüntüle',
    'comments.search': 'Yorumlarda ara...',
    'comments.filter.status': 'Durum Filtresi',
    'comments.filter.post.type': 'Gönderi Türü',
    'comments.filter.all.statuses': 'Tüm Durumlar',
    'comments.filter.all.types': 'Tüm Türler',
    'comments.status.pending': 'Beklemede',
    'comments.status.approved': 'Onaylandı',
    'comments.status.rejected': 'Reddedildi',
    'comments.table.comment': 'Yorum',
    'comments.table.post': 'Gönderi',
    'comments.table.author': 'Yazar',
    'comments.table.date': 'Tarih',
    'comments.table.status': 'Durum',
    'comments.on.post': 'Gönderi:',
    
    // Announcements
    'announcements.title': 'Duyuru Yönetimi',
    'announcements.subtitle': 'Belediye duyurularını yönetin',
    'announcements.addnew': 'Yeni Duyuru Ekle',
    'announcements.search': 'Duyurularda ara...',
    'announcements.view': 'Duyuruyu Görüntüle',
    'announcements.filter.status': 'Durum Filtresi',
    'announcements.filter.city': 'Şehir Filtresi',
    'announcements.filter.all.statuses': 'Tüm Durumlar',
    'announcements.filter.all.cities': 'Tüm Şehirler',
    'announcements.status.active': 'Aktif',
    'announcements.status.pending': 'Beklemede',
    'announcements.status.expired': 'Süresi Dolmuş',
    'announcements.table.title': 'Başlık',
    'announcements.table.city': 'Şehir',
    'announcements.table.start.date': 'Başlangıç Tarihi',
    'announcements.table.end.date': 'Bitiş Tarihi',
    'announcements.table.status': 'Durum',
    'announcements.start.date': 'Başlangıç Tarihi',
    'announcements.end.date': 'Bitiş Tarihi',
    
    // Users
    'users.title': 'Kullanıcı Yönetimi',
    'users.subtitle': 'Kullanıcıları görüntüleyin, düzenleyin veya engelleyin',
    'users.addnew': 'Yeni Kullanıcı',
    
    // Parties
    'parties.title': 'Siyasi Parti Yönetimi',
    'parties.subtitle': 'Siyasi partileri ve skorlarını yönetin',
    'parties.addnew': 'Yeni Parti Ekle',
    'parties.search': 'Partilerde ara...',
    'parties.view': 'Partiyi Görüntüle',
    'parties.filter.status': 'Durum Filtresi',
    'parties.filter.all.statuses': 'Tüm Durumlar',
    'parties.status.active': 'Aktif',
    'parties.status.inactive': 'Pasif',
    'parties.table.name': 'Parti Adı',
    'parties.table.leader': 'Lider',
    'parties.table.cities': 'Şehirler',
    'parties.table.score': 'Skor',
    'parties.table.founded': 'Kuruluş Tarihi',
    'parties.table.status': 'Durum',
    'parties.leader': 'Lider',
    'parties.founded': 'Kuruluş Tarihi', 
    'parties.description': 'Açıklama',
    'parties.no.description': 'Açıklama bulunmuyor.',
    'parties.cities': 'Yönettiği Şehirler',
    
    // Settings
    'settings.title': 'Sistem Ayarları',
    'settings.subtitle': 'Sistem ayarlarını yapılandırın',
    
    // Common
    'common.edit': 'Düzenle',
    'common.delete': 'Sil',
    'common.save': 'Kaydet',
    'common.cancel': 'İptal',
    'common.action.success': 'İşlem Başarılı',
    'common.action.error': 'Hata Oluştu',
    'common.loading': 'Yükleniyor...',
    'common.search': 'Ara',
    'common.filter': 'Filtrele',
    'common.showing': 'Gösteriliyor',
    'common.of': '/',
    'common.items': 'öğe',
    'common.previous': 'Önceki',
    'common.next': 'Sonraki',
    'common.email': 'E-posta',
    'common.phone': 'Telefon',
    'common.address': 'Adres',
    'common.website': 'Website',
    'common.logo': 'Logo',
    'common.cover': 'Kapak Görseli',
    'common.population': 'Nüfus',
    'common.social.media': 'Sosyal Medya',
    'common.status': 'Durum',
    'common.actions': 'İşlemler',
    'common.name': 'Ad',
    'common.active': 'Aktif',
    'common.inactive': 'Pasif',
    'common.maintenance': 'Bakımda',
    'common.username': 'Kullanıcı Adı',
    'common.role': 'Rol',
    'common.created.at': 'Oluşturulma Tarihi',
    'common.updated.at': 'Güncellenme Tarihi',
    'common.city': 'Şehir',
    'common.district': 'İlçe',
    'common.content': 'İçerik',
    'common.title': 'Başlık',
    'common.description': 'Açıklama',
    'common.date': 'Tarih',
    'common.type': 'Tip',
    'common.category': 'Kategori',
    'common.score': 'Skor',
    'common.likes': 'Beğeni',
    'common.comments': 'Yorum',
    'common.activity': 'Aktivite',
    'common.ban': 'Engelle',
    'common.unban': 'Engeli Kaldır',
    'common.yes': 'Evet',
    'common.no': 'Hayır',
    'common.confirm': 'Onayla',
    'common.hide': 'Gizle',
    'common.show': 'Göster',
    'common.feature': 'Öne Çıkar',
    'common.unfeature': 'Öne Çıkarmayı Kaldır',
    'common.pending': 'Beklemede',
    'common.resolved': 'Çözüldü',
    
    // Forms
    'form.edit.city': 'Şehir Düzenle',
    'form.edit.city.subtitle': 'Bu şehir bilgilerini düzenleyebilirsiniz. Tüm değişiklikler veritabanına hemen yansıtılacaktır.',
    'form.city.name': 'Şehir Adı',
    'form.mayor.name': 'Belediye Başkanı',
    'form.party': 'Parti',
    'form.population': 'Nüfus',
    'form.email': 'E-posta',
    'form.address': 'Adres',
    'form.status': 'Durum',
    
    // Auth
    'auth.login': 'Giriş Yap',
    'auth.logout': 'Çıkış Yap',
    'auth.username': 'Kullanıcı Adı',
    'auth.password': 'Şifre',
    'auth.remember': 'Beni Hatırla',
    'auth.forgot.password': 'Şifremi Unuttum',
    
    // Notifications
    'notifications.success': 'Başarılı',
    'notifications.error': 'Hata',
    'notifications.saved': 'Değişiklikler başarıyla kaydedildi.',
    'notifications.deleted': 'Öğe başarıyla silindi.',
    'notifications.created': 'Öğe başarıyla oluşturuldu.',
    'notifications.updated': 'Öğe başarıyla güncellendi.',
    'notifications.error.occurred': 'Bir hata oluştu. Lütfen tekrar deneyin.',
    'notifications.confirmed': 'İşlem onaylandı.',
    'notifications.banned': 'Kullanıcı engellendi.',
    'notifications.unbanned': 'Kullanıcı engeli kaldırıldı.',
    'notifications.featured': 'Gönderi öne çıkarıldı.',
    'notifications.unfeatured': 'Gönderi öne çıkarması kaldırıldı.',
    'notifications.resolved': 'Şikayet çözüldü.',
    'notifications.unresolved': 'Şikayet çözülmemiş olarak işaretlendi.'
  },
  en: {
    // Header
    'app.title': 'BİMER',
    'app.subtitle': 'Municipality Management Panel',
    'app.language': 'Language',
    
    // Sidebar
    'sidebar.dashboard': 'Dashboard',
    'sidebar.cities': 'Cities',
    'sidebar.districts': 'Districts',
    'sidebar.posts': 'Posts',
    'sidebar.comments': 'Comments',
    'sidebar.announcements': 'Announcements',
    'sidebar.users': 'Users',
    'sidebar.parties': 'Political Parties',
    'sidebar.settings': 'Settings',
    'sidebar.logout': 'Logout',
    
    // Not Found
    'notfound.title': 'Page Not Found',
    'notfound.message': 'The page you are looking for might have been removed, had its name changed, or is temporarily unavailable.',
    'notfound.home': 'Return to Home',
    'notfound.dashboard': 'Go to Dashboard',
    
    // Dashboard
    'dashboard.title': 'Dashboard',
    'dashboard.subtitle': 'Municipality management system overview',
    'dashboard.total.municipalities': 'Total Municipalities',
    'dashboard.active.users': 'Active Users',
    'dashboard.total.posts': 'Total Posts',
    'dashboard.pending.complaints': 'Pending Complaints',
    'dashboard.since.lastmonth': 'Since last month',
    'dashboard.recent.activities': 'Recent Activities',
    'dashboard.view.all': 'View All',
    'dashboard.geographic.distribution': 'Geographic Distribution',
    'dashboard.party.distribution': 'Political Party Distribution',
    'dashboard.post.categories': 'Post Categories',
    'dashboard.details': 'Details',
    'dashboard.last.30days': 'Last 30 Days',
    'dashboard.last.90days': 'Last 90 Days',
    'dashboard.all.time': 'All Time',
    'dashboard.most.active.city': 'Most Active City',
    'dashboard.least.active.city': 'Least Active City',
    'dashboard.interactive.map': 'Interactive Map',
    'dashboard.complaints': 'Complaints',
    'dashboard.suggestions': 'Suggestions',
    'dashboard.questions': 'Questions',
    'dashboard.thanks': 'Thank You Notes',
    'dashboard.percentage.total': '{value}% of total posts',
    
    // Cities
    'cities.title': 'City Management',
    'cities.subtitle': 'Manage and edit city municipalities',
    'cities.addnew': 'Add New City',
    'cities.search': 'Search city name or mayor...',
    'cities.filter.party': 'Party',
    'cities.filter.population': 'Population',
    'cities.filter.all.parties': 'All Parties',
    'cities.filter.all.populations': 'All Populations',
    'cities.filter.apply': 'Apply Filters',
    'cities.table.city': 'City',
    'cities.table.mayor': 'Mayor',
    'cities.table.party': 'Party',
    'cities.table.population': 'Population',
    'cities.table.status': 'Status',
    'cities.table.actions': 'Actions',
    'cities.status.active': 'Active',
    'cities.status.maintenance': 'Maintenance',
    'cities.status.inactive': 'Inactive',
    'cities.pagination.showing': 'Showing {from}-{to} of {total} cities',
    'cities.pagination.previous': 'Previous',
    'cities.pagination.next': 'Next',
    
    // Districts
    'districts.title': 'District Management',
    'districts.subtitle': 'Manage and edit district municipalities',
    'districts.addnew': 'Add New District',
    
    // Posts
    'posts.title': 'Post Management',
    'posts.subtitle': 'Manage and moderate user posts',
    'posts.complaints': 'Complaints',
    'posts.featured': 'Featured Posts',
    
    // Comments
    'comments.title': 'Comment Management',
    'comments.subtitle': 'Manage and moderate user comments',
    'comments.approve': 'Approve',
    'comments.reject': 'Reject',
    'comments.view': 'View Comment',
    'comments.search': 'Search comments...',
    'comments.filter.status': 'Status Filter',
    'comments.filter.post.type': 'Post Type',
    'comments.filter.all.statuses': 'All Statuses',
    'comments.filter.all.types': 'All Types',
    'comments.status.pending': 'Pending',
    'comments.status.approved': 'Approved',
    'comments.status.rejected': 'Rejected',
    'comments.table.comment': 'Comment',
    'comments.table.post': 'Post',
    'comments.table.author': 'Author',
    'comments.table.date': 'Date',
    'comments.table.status': 'Status',
    'comments.on.post': 'On Post:',
    
    // Announcements
    'announcements.title': 'Announcement Management',
    'announcements.subtitle': 'Manage municipality announcements',
    'announcements.addnew': 'Add New Announcement',
    'announcements.search': 'Search announcements...',
    'announcements.view': 'View Announcement',
    'announcements.filter.status': 'Status Filter',
    'announcements.filter.city': 'City Filter',
    'announcements.filter.all.statuses': 'All Statuses',
    'announcements.filter.all.cities': 'All Cities',
    'announcements.status.active': 'Active',
    'announcements.status.pending': 'Pending',
    'announcements.status.expired': 'Expired',
    'announcements.table.title': 'Title',
    'announcements.table.city': 'City',
    'announcements.table.start.date': 'Start Date',
    'announcements.table.end.date': 'End Date',
    'announcements.table.status': 'Status',
    'announcements.start.date': 'Start Date',
    'announcements.end.date': 'End Date',
    
    // Users
    'users.title': 'User Management',
    'users.subtitle': 'View, edit, or ban users',
    'users.addnew': 'New User',
    
    // Parties
    'parties.title': 'Political Party Management',
    'parties.subtitle': 'Manage political parties and scores',
    'parties.addnew': 'Add New Party',
    
    // Settings
    'settings.title': 'System Settings',
    'settings.subtitle': 'Configure system settings',
    
    // Common
    'common.edit': 'Edit',
    'common.delete': 'Delete',
    'common.save': 'Save',
    'common.cancel': 'Cancel',
    'common.action.success': 'Action Successful',
    'common.action.error': 'Error Occurred',
    'common.loading': 'Loading...',
    'common.search': 'Search',
    'common.filter': 'Filter',
    'common.showing': 'Showing',
    'common.of': 'of',
    'common.items': 'items',
    'common.previous': 'Previous',
    'common.next': 'Next',
    'common.email': 'Email',
    'common.phone': 'Phone',
    'common.address': 'Address',
    'common.website': 'Website',
    'common.logo': 'Logo',
    'common.cover': 'Cover Image',
    'common.population': 'Population',
    'common.social.media': 'Social Media',
    'common.status': 'Status',
    'common.actions': 'Actions',
    'common.name': 'Name',
    'common.active': 'Active',
    'common.inactive': 'Inactive',
    'common.maintenance': 'Maintenance',
    'common.username': 'Username',
    'common.role': 'Role',
    'common.created.at': 'Created At',
    'common.updated.at': 'Updated At',
    'common.city': 'City',
    'common.district': 'District',
    'common.content': 'Content',
    'common.title': 'Title',
    'common.description': 'Description',
    'common.date': 'Date',
    'common.type': 'Type',
    'common.category': 'Category',
    'common.score': 'Score',
    'common.likes': 'Likes',
    'common.comments': 'Comments',
    'common.activity': 'Activity',
    'common.ban': 'Ban',
    'common.unban': 'Unban',
    'common.yes': 'Yes',
    'common.no': 'No',
    'common.confirm': 'Confirm',
    'common.hide': 'Hide',
    'common.show': 'Show',
    'common.feature': 'Feature',
    'common.unfeature': 'Unfeature',
    'common.pending': 'Pending',
    'common.resolved': 'Resolved',
    
    // Forms
    'form.edit.city': 'Edit City',
    'form.edit.city.subtitle': 'You can edit the information for this city. All changes will be immediately reflected in the database.',
    'form.city.name': 'City Name',
    'form.mayor.name': 'Mayor',
    'form.party': 'Party',
    'form.population': 'Population',
    'form.email': 'Email',
    'form.address': 'Address',
    'form.status': 'Status',
    
    // Auth
    'auth.login': 'Login',
    'auth.logout': 'Logout',
    'auth.username': 'Username',
    'auth.password': 'Password',
    'auth.remember': 'Remember Me',
    'auth.forgot.password': 'Forgot Password',
    
    // Notifications
    'notifications.success': 'Success',
    'notifications.error': 'Error',
    'notifications.saved': 'Changes saved successfully.',
    'notifications.deleted': 'Item deleted successfully.',
    'notifications.created': 'Item created successfully.',
    'notifications.updated': 'Item updated successfully.',
    'notifications.error.occurred': 'An error occurred. Please try again.',
    'notifications.confirmed': 'Action confirmed.',
    'notifications.banned': 'User banned successfully.',
    'notifications.unbanned': 'User unbanned successfully.',
    'notifications.featured': 'Post featured successfully.',
    'notifications.unfeatured': 'Post unfeatured successfully.',
    'notifications.resolved': 'Complaint resolved.',
    'notifications.unresolved': 'Complaint marked as unresolved.'
  }
};

export const useTranslation = create<TranslationStore>((set, get) => ({
  locale: 'tr',
  setLocale: (locale) => set({ locale }),
  t: (key) => {
    const { locale } = get();
    return translations[locale][key] || key;
  }
}));

// Format with replacements
export const formatMessage = (message: string, replacements: Record<string, string | number>) => {
  let formattedMessage = message;
  for (const [key, value] of Object.entries(replacements)) {
    formattedMessage = formattedMessage.replace(`{${key}}`, String(value));
    formattedMessage = formattedMessage.replace(`%{${key}}`, String(value));
  }
  return formattedMessage;
};
